Морской Бой
Автор: Антипов Иван КН-201

О проекте:
Консольная реализация классической игры "Морской бой" с расширенными возможностями:
* Два режима игры: против ИИ и "1 на 1" с особыми правилами
* Система рекордов
* Гибкая настройка размеров поля
Основные функции:
* Классический режим против компьютерного противника
* Режим 1 на 1 с расширенными правилами:
o Выбор корабля для атаки
o Мины на поле
o Возможность перемещать корабли
* Таблица рекордов с сохранением результатов
Дополнительные возможности:
* Гибкие настройки:
o Размеры поля (стандартное 10x10 или кастомное)
o Варианты расстановки кораблей (ручная/авто)
 Установка и запуск:
1. Установите зависимости:
      pip install pygame
2. Запустите игру:
      python main.py
      
      
      
      
      
Управление:
Главное меню:
1. Начать игру против бота
2. Посмотреть таблицу рекордов  
3. Изменить размер поля  
4. Игра 1 на 1  
0. Выход
   В игре:
* Ввод координат: x y (например: 5 3)
* В режиме 1 на 1:
o Сначала выбираете корабль для атаки: x y (например: 5 3)
o Затем указываете цель выстрела: x y (например: 5 3)
o Можно перемещать корабли (1 раз за ход):
* Сначала выбираете 1 не подбитый корабль для перемещения: x y (например: 5 3)
* Затем укажите в каком направлении вы хотите его переместить (вверх, вниз, влево, вправо)

Описание ключевых функций:
1. Генерация игрового поля
def random_place_ship(field, ship_size):
      """Автоматическая расстановка кораблей"""
      Алгоритм:
      1. Случайный выбор позиции (горизонталь/вертикаль)
      2. Проверка ship_not_near() на корректность размещения
      3. Максимум 500 попыток на корабль
      Возвращает True при успешной расстановке
      
      
      
      
2. Логика ИИ
class Ai:
      def make_move(self, available_cells):
"""выбор цели"""
      3 стратегии:
       - Случайная
      -  При попадании поиск в 4 направлениях
      - "Добивание" при обнаружении направления
3. Механика выстрелов
def player_move_1v1(player_field, enemy_field):
       """Специальные атаки в режиме 1 на 1"""
      Особенности:
      - Выбор конкретного корабля для атаки
      - Количество выстрелов = размеру корабля
      - Дополнительные выстрелы вокруг цели
4. Система мин
def check_mins(field, mins):
       """Обработка подрыва на мине"""
      - Помечает все клетки корабля как DAMAGED
      - Отмечает соседние клетки как MISSED
5. Перемещение кораблей
def move_ship(field):
      """перемещение"""
      Правила:
       - Только неподбитые корабли
 - 1 клетка за ход (вверх/вниз/влево/вправо)
 - Полная проверка новой позици



6. Визуализация
def print_field(field, hide_ships, mins=None):
      """Отрисовка поля в консоли"""
      Особенности:
      - Поддержка скрытия кораблей (для поля противника)
      - Отображение мин (M)
      - Маркеры для попаданий/промахов

Таблица рекордов:
      Формат записи:
       Игрок1: 50
       Игрок2: 42
      Сортируется автоматически по количеству ходов.














Описание файлов проекта
1. constants.py
Содержит все игровые константы:
* FIELDSIZE_DEFAULT = (10, 10) — стандартный размер поля
* EMPTY, SHIP, DAMAGED, MISSED — символы для отрисовки клеток
* LINE, STICK, CROSSING — элементы рамки поля
* SHIPS = {1: 4, 2: 3, 3: 2, 4: 1} — количество кораблей каждого размера (1-палубные, 2-палубные и т.д.)
2. ship.py
Логика кораблей и их размещения:
* ship_not_near(field, x, y, ship_size, position) — проверяет, можно ли разместить корабль без пересечений.
* random_place_ship(field, ship_size) — случайная расстановка одного корабля.
* find_ship_cages(field, x, y) — находит все клетки корабля по заданной координате.
3. Ai.py
Искусственный интеллект для игры против компьютера:
Класс Ai с методами:
* make_move(available_cells) — выбирает оптимальную клетку для атаки.
* register_hit(x, y, is_ship_destroyed) — обновляет состояние ИИ после попадания.
* register_miss() — обрабатывает промах.
4. player_move.py
Обработка ходов игрока:
* player_move_classic(field) — стандартный ввод координат для атаки.
* player_move_1v1(player_field, enemy_field) — расширенный режим (выбор корабля для атаки).
* is_hit_classic(x, y, field) — проверка попадания по вражескому полю.
* is_hit_1v1(x, y, field) — аналог для режима 1 на 1.



5. field.py
Работа с игровым полем:
* make_field(field_size) — создает пустое поле.
* print_field(field, hide_ships, mins=None) — отрисовывает поле в консоли.
* mark_around_ship(field, player_available_cells, ship_cells) — помечает клетки вокруг уничтоженного корабля.
* check_ship_full_destroyed(field, x, y, player_available_cells) — проверяет, потоплен ли корабль.
6. utils.py
Вспомогательные функции:
* random_setup_ships(field) — автоматическая расстановка всех кораблей.
* manual_ship_placement(field) — ручная расстановка.
* game_over(field) — проверка конца игры.
* move_ship(field) — перемещение корабля на 1 клетку.
* set_up_mins(field) — установка мин на поле.
* check_mins(field, mins) — проверка подрыва на мине.
7. main.py
Главный игровой цикл:
* start_game(field_size) — режим игры против ИИ.
* run_1v1_game(field_size) — режим "1 на 1".
* main() — обработка меню и выбора режима.

